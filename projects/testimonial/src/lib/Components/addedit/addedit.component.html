<mat-card>
  <mat-toolbar color="primary" style="justify-content: center; align-items: center;">
    <h2 class="headerSpan">{{ header_name }}</h2>
  </mat-toolbar>
  <span class="formspan">
    <mat-card-content class="example-container">


      <!-- ---------------------------------FORM BEGINS--------------------------- -->
      <form [formGroup]="testimonialForm" autocomplete="off" (ngSubmit)="onSubmit()">



        <!-- -----------------------------------customer username---------------------------- -->
        <mat-form-field>
          <mat-label>Customer/User Name:</mat-label>
          <input matInput type="text" formControlName="name" (blur)="inputBlur('name')">
          <mat-error *ngIf="!testimonialForm.controls['name'].valid
          && testimonialForm.controls['name'].errors.required"> Name is required.</mat-error>
        </mat-form-field><br>
        <!-- -------------------------------------------------------------------------------- -->






        <!-- ----------------------------------------customer email-------------------------- -->
        <mat-form-field>
          <mat-label>Customer/User Email:</mat-label>
          <input matInput type="email" formControlName="email" (blur)="inputBlur('email')">
          <mat-error *ngIf="!testimonialForm.controls['email'].valid
          && testimonialForm.controls['email'].errors.required">Email is required.</mat-error>
 

        </mat-form-field><br>
        <!-- -------------------------------------------------------------------------------- -->





        <!-- ----------------------------------testimonial----------------------------------- -->
          <mat-label>Please write a testimonial...</mat-label>
          <ck-editor formControlName="description" [config]="editorconfig" (blur)="inputBlur('description')">
          </ck-editor>
         <mat-error *ngIf="!testimonialForm.controls['description'].valid
          && testimonialForm.controls['description'].errors.required && testimonialForm.controls['description'].touched  " >Description is required.</mat-error>
        <br>
        <!-- -------------------------------------------------------------------------------- -->






        <!-- ------------------------------------------priority------------------------------ -->
        <mat-form-field>
          <mat-label>Priority:</mat-label>
          <input matInput type="number" formControlName="priority" (blur)="inputBlur('priority')">
          <mat-error *ngIf="!testimonialForm.controls['priority'].valid
          && testimonialForm.controls['priority'].errors.required">Priority is required.</mat-error>
        </mat-form-field><br>
        <!-- -------------------------------------------------------------------------------- -->






        <!-- ----------------------------------------status---------------------------------- -->
        <mat-label>Status:</mat-label><br>
        <mat-checkbox color="primary" formControlName="status">Active</mat-checkbox><br>
        <!-- -------------------------------------------------------------------------------  -->


        <!-- ---------------------------------------------Image Uploader--------------------- -->
        <h1>Testimonial Image:</h1>
        <lib-file-upload [config]="imageConfigData"></lib-file-upload>
        <div *ngIf="ErrCode==true" class="desc_error">
          <mat-icon>error</mat-icon>
          <p>Please add just one testimonial image.</p>
        </div>
        <!-- -------------------------------------------------------------------------------- -->

        <!-- CARD VIEW  -->
        <mat-card-content class="files-view" *ngIf="flag==true">
          <mat-card class="example-card">
            <img mat-card-image [attr.src]="img_var">
            <mat-card-title>{{ image_name }}</mat-card-title>
            <mat-card-subtitle>{{ image_type }}</mat-card-subtitle>
            <span class="closecard" (click)="clear_image()"><i class="material-icons">clear</i></span>
          </mat-card>
        </mat-card-content>
        <!-- ---------  -->




        <!-- --------------------------------------Video Attachment--------------------- -->
        <h1>Attach a testimonial video:</h1>


        <!-- video url  -->
        <mat-form-field class="video_url">
          <input matInput formControlName="video_url">
          <span matPrefix> {{ youtube_suffix }} </span>
          <mat-icon matSuffix *ngIf="testimonialForm.controls['video_url'].value!=null && testimonialForm.controls['video_url'].value!=''"  class="clickable" (click)="preview_video()" type="button">remove_red_eye</mat-icon>
        </mat-form-field>

        <!-- video name  -->
        <mat-form-field>
          <input matInput placeholder="Video Title" formControlName="video_name">
        </mat-form-field>

        <!-- Video description  -->
        <mat-form-field>
          <input matInput placeholder="Video Description" formControlName="video_desc">
        </mat-form-field>

        <br>
        <!-- ------------------------------------------------------------------- -->

                <!-- --------------------------------------Audio Attachment--------------------- -->
                <h1>Attach a testimonial Audio:</h1>

                <span>
                  <lib-file-upload  [config]="audioConfigData"></lib-file-upload>
                </span>
                <mat-card-content class="files-view" *ngIf="flag2==true">
                  <mat-card class="example-card">
                    <audio controls>
                      <source src="{{ testimonialAudio }}" type="audio/ogg">
                      <source src="{{ testimonialAudio }}" type="audio/mpeg">
                    Your browser does not support the audio element.
                    </audio>
                    <span class="closecard" (click)="clear_audio()"><i class="material-icons">clear</i></span>
                  </mat-card>
                </mat-card-content>
                <br>
                <!-- ------------------------------------------------------------------- -->
        



        <button type="submit" class="submitbtn" class="submitbtn" mat-raised-button
          color="primary">{{buttonText}}</button>
        <button type="reset" class="submitbtn" mat-raised-button color="primary">RESET</button>




      </form>
      <!-- ---------------------------------------FORM ENDS HERE----------------------------- -->
    </mat-card-content>
  </span>
</mat-card>
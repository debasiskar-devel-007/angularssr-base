!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common/http"),require("rxjs/operators"),require("listing-angular7"),require("@angular/cdk/a11y"),require("@angular/cdk/drag-drop"),require("@angular/cdk/portal"),require("@angular/cdk/scrolling"),require("@angular/cdk/stepper"),require("@angular/cdk/table"),require("@angular/cdk/tree"),require("@angular/material/autocomplete"),require("@angular/material/badge"),require("@angular/material/bottom-sheet"),require("@angular/material/button"),require("@angular/material/button-toggle"),require("@angular/material/card"),require("@angular/material/checkbox"),require("@angular/material/chips"),require("@angular/material/stepper"),require("@angular/material/datepicker"),require("@angular/material/divider"),require("@angular/material/expansion"),require("@angular/material/grid-list"),require("@angular/material/icon"),require("@angular/material/input"),require("@angular/material/list"),require("@angular/material/menu"),require("@angular/material/core"),require("@angular/material/paginator"),require("@angular/material/progress-bar"),require("@angular/material/progress-spinner"),require("@angular/material/radio"),require("@angular/material/select"),require("@angular/material/sidenav"),require("@angular/material/slider"),require("@angular/material/slide-toggle"),require("@angular/material/snack-bar"),require("@angular/material/sort"),require("@angular/material/table"),require("@angular/material/tabs"),require("@angular/material/toolbar"),require("@angular/material/tooltip"),require("@angular/material/tree"),require("@angular/core"),require("@angular/forms"),require("@angular/router"),require("ngx-cookie-service"),require("@angular/material/dialog"),require("@angular/common"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define("resourcelib",["exports","@angular/common/http","rxjs/operators","listing-angular7","@angular/cdk/a11y","@angular/cdk/drag-drop","@angular/cdk/portal","@angular/cdk/scrolling","@angular/cdk/stepper","@angular/cdk/table","@angular/cdk/tree","@angular/material/autocomplete","@angular/material/badge","@angular/material/bottom-sheet","@angular/material/button","@angular/material/button-toggle","@angular/material/card","@angular/material/checkbox","@angular/material/chips","@angular/material/stepper","@angular/material/datepicker","@angular/material/divider","@angular/material/expansion","@angular/material/grid-list","@angular/material/icon","@angular/material/input","@angular/material/list","@angular/material/menu","@angular/material/core","@angular/material/paginator","@angular/material/progress-bar","@angular/material/progress-spinner","@angular/material/radio","@angular/material/select","@angular/material/sidenav","@angular/material/slider","@angular/material/slide-toggle","@angular/material/snack-bar","@angular/material/sort","@angular/material/table","@angular/material/tabs","@angular/material/toolbar","@angular/material/tooltip","@angular/material/tree","@angular/core","@angular/forms","@angular/router","ngx-cookie-service","@angular/material/dialog","@angular/common","@angular/platform-browser"],t):t(e.resourcelib={},e.ng.common.http,e.rxjs.operators,e.listingAngular7,e.ng.cdk.a11y,e.ng.cdk["drag-drop"],e.ng.cdk.portal,e.ng.cdk.scrolling,e.ng.cdk.stepper,e.ng.cdk.table,e.ng.cdk.tree,e.ng.material.autocomplete,e.ng.material.badge,e.ng.material["bottom-sheet"],e.ng.material.button,e.ng.material["button-toggle"],e.ng.material.card,e.ng.material.checkbox,e.ng.material.chips,e.ng.material.stepper,e.ng.material.datepicker,e.ng.material.divider,e.ng.material.expansion,e.ng.material["grid-list"],e.ng.material.icon,e.ng.material.input,e.ng.material.list,e.ng.material.menu,e.ng.material.core,e.ng.material.paginator,e.ng.material["progress-bar"],e.ng.material["progress-spinner"],e.ng.material.radio,e.ng.material.select,e.ng.material.sidenav,e.ng.material.slider,e.ng.material["slide-toggle"],e.ng.material["snack-bar"],e.ng.material.sort,e.ng.material.table,e.ng.material.tabs,e.ng.material.toolbar,e.ng.material.tooltip,e.ng.material.tree,e.ng.core,e.ng.forms,e.ng.router,e.i2,e.ng.material.dialog,e.ng.common,e.ng.platformBrowser)}(this,function(e,a,o,t,r,i,n,l,s,u,c,p,d,g,m,f,h,y,b,M,x,v,k,C,q,_,S,w,D,T,I,j,P,F,N,A,H,U,L,E,O,R,B,z,J,V,G,K,Q,W,X){"use strict";var Y=(Z.prototype.isTokenExpired=function(){},Z.prototype.addData=function(e,t){var r={headers:new a.HttpHeaders({"Content-Type":"application/json",Authorization:this.accesstoken})};return this._http.post(this.serverUrl+e,JSON.stringify(t),r).pipe(o.map(function(e){return e}))},Z.prototype.UpdateData=function(e,t){var r={headers:new a.HttpHeaders({"Content-Type":"application/json",Authorization:this.accesstoken})};return this._http.post(this.serverUrl+e,JSON.stringify(t),r).pipe(o.map(function(e){return e}))},Z.prototype.getData=function(e,t){var r={headers:new a.HttpHeaders({"Content-Type":"application/json",Authorization:this.accesstoken})};return this._http.post(this.serverUrl+e,JSON.stringify(t),r).pipe(o.map(function(e){return e}))},Z.prototype.deleteSingleData=function(e,t){var r={headers:new a.HttpHeaders({"Content-Type":"application/json",Authorization:this.accesstoken})};return this._http.post(this.serverUrl+e,JSON.stringify(t),r).pipe(o.map(function(e){return e}))},Z.prototype.deleteMultipleData=function(e,t){var r={headers:new a.HttpHeaders({"Content-Type":"application/json",Authorization:this.accesstoken})};return this._http.post(this.serverUrl+e,JSON.stringify(t),r).pipe(o.map(function(e){return e}))},Z.prototype.UpdateStatusForSingleData=function(e,t){var r={headers:new a.HttpHeaders({"Content-Type":"application/json",Authorization:this.accesstoken})};return this._http.post(this.serverUrl+e,JSON.stringify(t),r).pipe(o.map(function(e){return e}))},Z.prototype.UpdateStatusForMultipleData=function(e,t){var r={headers:new a.HttpHeaders({"Content-Type":"application/json",Authorization:this.accesstoken})};return this._http.post(this.serverUrl+e+"many",JSON.stringify(t),r).pipe(o.map(function(e){return e}))},Z.prototype.CustomRequest=function(e,t){var r={headers:new a.HttpHeaders({"Content-Type":"application/json",Authorization:this.accesstoken})};return this._http.post(this.serverUrl+e,JSON.stringify(t),r).pipe(o.map(function(e){return e}))},Z.decorators=[{type:J.Injectable,args:[{providedIn:"root"}]}],Z.ctorParameters=function(){return[{type:a.HttpClient},{type:a.HttpClient},{type:K.CookieService}]},Z.ngInjectableDef=J.defineInjectable({factory:function(){return new Z(J.inject(a.HttpClient),J.inject(a.HttpClient),J.inject(K.CookieService))},token:Z,providedIn:"root"}),Z);function Z(e,t,r){this._http=e,this._authHttp=t,this.cookieService=r,this.progress=[],this.uploaderror="",this.accesstoken=this.cookieService.get("jwtToken"),this.fileservername=[],this.serverUrl="",this.getdata_endpointUrl="datalist"}var $=(Object.defineProperty(ee.prototype,"config",{set:function(e){this.resourceListConfig={apiUrl:e.apiBaseUrl,listEndPoint:e.listEndPoint,datasource:e.datasource,tableName:e.tableName,listArray_skip:["_id","userId","created_at","id","updated_at","image"],listArray_modify_header:{"category name":"Category Name","parent category":"Parent Category",description:"Description",priority:"Priority",status:"Status"},admintablenameTableName:"admin",statusarr:[{val:1,name:"Active"},{val:0,name:"Inactive"}],updateurl:e.updateEndpoint,editUrl:e.editUrl,jwtToken:e.jwtToken,deleteEndPoint:e.deleteEndPoint,view:e.view,search_settings:{textsearch:[{label:"Search by Category name...",field:"category_name"},{label:"Search by parent category...",field:"parent_category"}],selectsearch:[{label:"Search By Status",field:"status",values:[{val:1,name:"Active"},{val:0,name:"Inactive"}]}]}},this.loader=!1},enumerable:!0,configurable:!0}),ee.prototype.ngOnInit=function(){},ee.decorators=[{type:J.Component,args:[{selector:"lib-resourcelib",template:'<mat-card *ngIf="loader==true">\n    <mat-spinner class="spinner"></mat-spinner>\n</mat-card>\n\n\n\n\x3c!-- ------------------------lib listing being called------------------------ --\x3e\n<mat-card *ngIf="loader==false">\n    <lib-listing class="formfilterdiv"\n        *ngIf="resourceListConfig.datasource !=null && resourceListConfig.datasource.length > 0"\n        [datasource]="resourceListConfig.datasource" [skip]="resourceListConfig.listArray_skip"\n        [modify_header_array]="resourceListConfig.listArray_modify_header" [sourcedata]="resourceListConfig.tableName"\n        [statusarr]="resourceListConfig.statusarr" [jwttoken]="resourceListConfig.jwtToken"\n        [apiurl]="resourceListConfig.apiUrl" [editroute]="resourceListConfig.editUrl"\n        [deleteendpoint]="resourceListConfig.deleteEndPoint"\n        [date_search_source]="resourceListConfig.view"\n       [date_search_endpoint]="resourceListConfig.listEndPoint"\n       [search_settings]="resourceListConfig.search_settings"\n       [detail_datatype]="resourceListConfig.pendingmodelapplicationarray_detail_datatype">\n    </lib-listing>\n\x3c!-- -----------------------------------------------------------------------------\x3e\n\n    <h2 *ngIf="resourceListConfig.datasource.length == 0">No record found.</h2>\n</mat-card>',styles:[""]}]}],ee.ctorParameters=function(){return[]},ee.propDecorators={config:[{type:J.Input}]},ee);function ee(){this.loader=!1}var te=(re.decorators=[{type:J.NgModule,args:[{exports:[r.A11yModule,s.CdkStepperModule,u.CdkTableModule,c.CdkTreeModule,i.DragDropModule,p.MatAutocompleteModule,d.MatBadgeModule,g.MatBottomSheetModule,m.MatButtonModule,f.MatButtonToggleModule,h.MatCardModule,y.MatCheckboxModule,b.MatChipsModule,M.MatStepperModule,x.MatDatepickerModule,Q.MatDialogModule,v.MatDividerModule,k.MatExpansionModule,C.MatGridListModule,q.MatIconModule,_.MatInputModule,S.MatListModule,w.MatMenuModule,D.MatNativeDateModule,T.MatPaginatorModule,I.MatProgressBarModule,j.MatProgressSpinnerModule,P.MatRadioModule,D.MatRippleModule,F.MatSelectModule,N.MatSidenavModule,A.MatSliderModule,H.MatSlideToggleModule,U.MatSnackBarModule,L.MatSortModule,E.MatTableModule,O.MatTabsModule,R.MatToolbarModule,B.MatTooltipModule,z.MatTreeModule,n.PortalModule,l.ScrollingModule]}]}],re);function re(){}var ae=(Object.defineProperty(oe.prototype,"config",{set:function(e){this.configData=e},enumerable:!0,configurable:!0}),oe.prototype.ngOnInit=function(){switch(this.loader=!1,this.generateForm(),this.configData.action){case"add":this.buttonText="SUBMIT",this.header_name="ADD";break;case"edit":this.buttonText="UPDATE",this.successMessage="One row updated",this.setDefaultValue(this.configData.defaultData),this.header_name="EDIT"}this.getParentCategory()},oe.prototype.generateForm=function(){this.resourceForm=this.formBuilder.group({category_name:["",V.Validators.required],parent_category:[""],description:["",V.Validators.required],priority:["",V.Validators.required],status:[""]})},oe.prototype.onSubmit=function(){var t=this;if(this.loader=!0,!this.resourceForm.invalid){this.resourceForm.value.status?this.resourceForm.value.status=parseInt("1"):this.resourceForm.value.status=parseInt("0");var e={source:this.configData.source,data:Object.assign(this.resourceForm.value,this.configData.condition)};this.resourceService.addData(this.configData.endpoint,e).subscribe(function(e){"success"==e.status?(t.openDialog(t.successMessage),setTimeout(function(){t.dialogRef.close()},2e3),t.router.navigate([t.configData.callBack])):alert("Some error occurred. Please try again.")},function(e){alert("Some error occurred. Please try again.")})}},oe.prototype.getParentCategory=function(){var r=this,e={source:"resources",token:this.cookieService.get("jwtToken")};this.resourceService.getData(this.configData.endpoint2+"/datalist",e).subscribe(function(e){var t;t=e,r.cat_array=t.res,console.log(r.cat_array)})},oe.prototype.setDefaultValue=function(e){this.resourceForm.patchValue({category_name:e.category_name,parent_category:e.parent_category,description:e.description,priority:e.priority,status:e.status,userId:null})},oe.prototype.openDialog=function(e){this.dialogRef=this.dialog.open(ie,{width:"250px",data:{msg:e}}),this.dialogRef.afterClosed().subscribe(function(e){})},oe.decorators=[{type:J.Component,args:[{selector:"lib-addedit-resourceapp",template:'<mat-card>\n  <mat-toolbar color="primary" style="justify-content: center; align-items: center;">\n    <h2 class="headerSpan">{{ header_name }}</h2>\n  </mat-toolbar>\n  <span class="formspan">\n    <mat-card-content class="example-container">\n\n\n      \x3c!-- ---------------------------------FORM BEGINS--------------------------- --\x3e\n      <form [formGroup]="resourceForm" autocomplete="off" (ngSubmit)="onSubmit()">\n\n\n        \x3c!-- category name  --\x3e\n        <mat-form-field>\n          <input matInput placeholder="Category name" formControlName="category_name">\n          <mat-error *ngIf="resourceForm.controls[\'category_name\']?.touched || resourceForm.controls[\'category_name\'].errors \n          && resourceForm.controls[\'category_name\'].errors.required">Category name is required.</mat-error>\n        </mat-form-field>\n\n\n\n        \x3c!-- parent category  --\x3e\n        <mat-form-field>\n          <mat-label>Parent Category</mat-label>\n          <select matNativeControl required formControlName="parent_category">\n            <option value="0">Please choose a parent</option>            \n            <option value="{{ i.category_name }}" *ngFor="let i of cat_array">{{ i.category_name }}</option>\n          </select>\n        </mat-form-field>\n\n        \x3c!-- description  --\x3e\n        <mat-form-field>\n          <textarea matInput placeholder="Category Description" formControlName="description"></textarea>\n          <mat-error *ngIf="resourceForm.controls[\'description\']?.touched || resourceForm.controls[\'description\'].errors \n          && resourceForm.controls[\'description\'].errors.required">Please add a description.</mat-error>\n        </mat-form-field>\n\n\n\n        \x3c!-- priority  --\x3e\n        <mat-form-field>\n          <input matInput type="number" placeholder="Priority" formControlName="priority">\n          <mat-error *ngIf="resourceForm.controls[\'priority\']?.touched || resourceForm.controls[\'priority\'].errors \n          && resourceForm.controls[\'priority\'].errors.required">Please set priority.</mat-error>\n        </mat-form-field>\n\n\n        \x3c!-- status  --\x3e\n        <mat-checkbox color="primary" formControlName="status">Status</mat-checkbox><br>\n      \n\n\n        \x3c!-- buttons sets  --\x3e\n        <button type="submit" class="submitbtn" mat-raised-button color="primary">{{buttonText}}</button>\n        <button type="reset" class="submitbtn" mat-raised-button color="primary">RESET</button>\n\n      </form>\n      \x3c!-- ---------------------------------------FORM ENDS HERE----------------------------- --\x3e\n\n\n    </mat-card-content>\n  </span>\n</mat-card>',styles:[".example-container{display:flex;flex-direction:column}.example-container>*{width:100%}.main-class .submitbtn{display:block;width:170px;margin:10px auto;background:#3f50b5!important;color:#fff}.main-class .material-icons{cursor:pointer}.formspan{background-color:#e7e9ea;border:6px solid #fff;border-bottom:10px solid #fff;display:inline-block;width:100%;position:relative;z-index:9}.formspan .example-container{display:flex;flex-direction:column;width:98%;padding:14px;margin-bottom:0}.formspan .form-field-span,.formspan .mat-form-field{display:inline-block;position:relative;text-align:left;width:98%;background:#fff;margin-bottom:9px;padding:1px 14px}.formspan .form-field-span .mat-checkbox,.formspan .form-field-span .mat-radio-button{padding-right:15px;padding-bottom:15px;display:inline-block}.formspan .mat-form-field-wrapper{padding-bottom:0!important}.form-field-span .mat-error{font-size:13px!important}.mat-error{color:#f44336;font-size:13px!important}button.submitbtn.mat-raised-button.mat-primary{margin-right:15px}h1{color:#3f50b4}.files-view{background-repeat:no-repeat;background-size:cover;background-position:center;height:auto!important;width:82%;margin:20px auto;border-radius:10px;display:flex;justify-content:center;align-items:stretch;flex-wrap:wrap}.files-view .mat-card{z-index:9;margin:10px!important;display:flex;flex-wrap:wrap;justify-content:center;width:27%;position:relative}.files-view .mat-card .mat-card-actions,.files-view .mat-card .mat-card-titlt{display:inline-block;width:100%}.files-view .mat-card .mat-card-subtitle{display:inline-block;width:100%;text-align:center}.closecard{position:absolute;top:-10px;right:-8px;background:#464545;height:25px;width:25px;border-radius:50%;border:1px solid #696969;color:#fff;text-align:center;box-shadow:0 2px 6px #00000070;cursor:pointer}.closecard i{font-size:18px;line-height:27px}"]}]}],oe.ctorParameters=function(){return[{type:V.FormBuilder},{type:Y},{type:G.Router},{type:K.CookieService},{type:Q.MatDialog}]},oe.propDecorators={config:[{type:J.Input}]},oe);function oe(e,t,r,a,o){this.formBuilder=e,this.resourceService=t,this.router=r,this.cookieService=a,this.dialog=o,this.header_name="ADD",this.buttonText="SUBMIT",this.loader=!1,this.successMessage="Submitted Successfully",this.cat_array=[]}var ie=(ne.prototype.onNoClick=function(){this.dialogRef.close()},ne.decorators=[{type:J.Component,args:[{selector:"app-modal",template:"<h1 mat-dialog-title>MESSAGE</h1>\n<div mat-dialog-content>\n   <p>{{ data.msg }}</p>\n</div>\n\n"}]}],ne.ctorParameters=function(){return[{type:Q.MatDialogRef},{type:undefined,decorators:[{type:J.Inject,args:[Q.MAT_DIALOG_DATA]}]}]},ne);function ne(e,t){this.dialogRef=e,this.data=t}var le=(se.decorators=[{type:J.NgModule,args:[{declarations:[$,ae,ie],imports:[t.ListingModule,te,V.FormsModule,V.ReactiveFormsModule,W.CommonModule,X.BrowserModule],exports:[$,ae],entryComponents:[ie]}]}],se);function se(){}e.ResourcelibService=Y,e.ResourcelibComponent=$,e.ResourcelibModule=le,e.ɵa=ae,e.ɵb=ie,e.ɵc=te,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=resourcelib.umd.min.js.map